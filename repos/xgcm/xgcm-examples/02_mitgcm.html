<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MITgcm Example &#8212; Pangeo Gallery  documentation</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pangeo-style.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/font-awesome/5.0.0/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/pangeo-gallery.css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="NEMO Example" href="04_nemo_idealized.html" />
    <link rel="prev" title="MITgcm ECCOv4 Example" href="01_eccov4.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../../../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../../../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../../../_static/bootstrap-sphinx.js "></script>

  </head><body>
<div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../../../index.html">
          <span><img src="../../../_static/small_e_reversed_24px.png"></span>
        Pangeo Gallery</a>
    </div>

    <div class="collapse navbar-collapse nav-collapse">
      <ul class="nav navbar-nav">
      <li>
      <nav id="pangeo-breadcrumb" aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="index.html">Gallery for XGCM Examples and Usecases</a></li>
        
          <li class="breadcrumb-item active"><a href="#">MITgcm Example</a></li>
        
        </ol>
      </nav>
      </li>
      </ul>
    </div>

  </div>
</div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary">





<div class="badges" id="sidebar-header">
  <p><i class="fa fa-github fa-lg"></i> <a target="_blank" href="https://github.com/xgcm/xgcm-examples/blob/master/02_mitgcm.ipynb">xgcm/xgcm-examples/02_mitgcm.ipynb</a></p>
  <a target="_blank" href="https://binder.pangeo.io/v2/gh/pangeo-gallery/default-binder/53de928/?urlpath=git-pull?repo=https://github.com/xgcm/xgcm-examples%26amp%3Burlpath=lab/tree/xgcm-examples/02_mitgcm.ipynb%3Fautodecode"><img alt="Launch Binder" src="https://mybinder.org/badge_logo.svg?style=flat-square" /></a>
</div>

<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../contributing.html">Contributor Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../NCAR/cesm-lens-aws/index.html">Gallery for CESM LENS on AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../TomAugspurger/pangeo-dask-gateway/index.html">Pangeo &amp; Dask Gateway.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../earthcube2020/ec20_abernathey_etal/index.html">Cloud Storage Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pangeo-data/landsat-8-tutorial-gallery/index.html">Landsat 8 Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pangeo-data/pangeo-tutorial-gallery/index.html">Pangeo Tutorial Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pangeo-gallery/cmip6/index.html">CMIP6 Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pangeo-gallery/example-gallery/index.html">Example Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pangeo-gallery/physical-oceanography/index.html">Physical Oceanography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rsignell-usgs/esip-gallery/index.html">ESIP Gallery</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Gallery for XGCM Examples and Usecases</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01_eccov4.html">MITgcm ECCOv4 Example</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">MITgcm Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_nemo_idealized.html">NEMO Example</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="section" id="MITgcm-Example">
<h1>MITgcm Example<a class="headerlink" href="#MITgcm-Example" title="Permalink to this headline">¶</a></h1>
<p>xgcm is developed in close coordination with the <a class="reference external" href="http://xmitgcm.readthedocs.io/">xmitgcm</a> package. The metadata in datasets constructed by xmitgcm should always be compatible with xgcm’s expectations. xmitgcm is necessary for reading MITgcm’s binary MDS file format. However, for this example, the MDS files have already been converted and saved as netCDF.</p>
<p>Below are some example of how to make calculations on mitgcm-style datasets using xgcm.</p>
<p>First we import xarray and xgcm:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">xgcm</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Now we open the example dataset which is stored in a <a class="reference external" href="https://zenodo.org/record/4421428#.X_XP7y1h3x9">zenodo archive</a>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># download the data</span>
<span class="kn">import</span> <span class="nn">urllib.request</span>
<span class="kn">import</span> <span class="nn">shutil</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://zenodo.org/record/4421428/files/&#39;</span>
<span class="n">file_name</span> <span class="o">=</span> <span class="s1">&#39;mitgcm_example_dataset_v2.nc&#39;</span>
<span class="k">with</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span> <span class="o">+</span> <span class="n">file_name</span><span class="p">)</span> <span class="k">as</span> <span class="n">response</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">out_file</span><span class="p">:</span>
    <span class="n">shutil</span><span class="o">.</span><span class="n">copyfileobj</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">out_file</span><span class="p">)</span>

<span class="c1"># open the data</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
<span class="n">ds</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt, dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:  (XC: 90, XG: 90, YC: 40, YG: 40, Z: 15, Zl: 15, time: 1)
Coordinates:
  * time     (time) timedelta64[ns] 11:00:00
    maskC    (Z, YC, XC) bool False False False False ... False False False
    dyC      (YG, XC) float32 444709.9 444709.9 444709.9 ... 444709.9 444709.9
    hFacC    (Z, YC, XC) float32 0.0 0.0 0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0 0.0
    rA       (YC, XC) float32 41109700000.0 41109700000.0 ... 41109700000.0
    hFacS    (Z, YG, XC) float32 0.0 0.0 0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0 0.0
    Depth    (YC, XC) float32 0.0 0.0 0.0 0.0 0.0 ... 184.5 187.5 1917.0 2995.0
  * YG       (YG) float32 -80.0 -76.0 -72.0 -68.0 -64.0 ... 64.0 68.0 72.0 76.0
  * Z        (Z) float32 -25.0 -85.0 -170.0 -290.0 ... -3575.0 -4190.0 -4855.0
    PHrefC   (Z) float32 245.25 833.85 1667.7 ... 35070.75 41103.9 47627.55
    dyG      (YC, XG) float32 444709.9 444709.9 444709.9 ... 444709.9 444709.9
    rAw      (YC, XG) float32 41109700000.0 41109700000.0 ... 41109700000.0
    drF      (Z) float32 50.0 70.0 100.0 140.0 190.0 ... 540.0 590.0 640.0 690.0
  * YC       (YC) float32 -78.0 -74.0 -70.0 -66.0 -62.0 ... 66.0 70.0 74.0 78.0
    dxG      (YG, XC) float32 77223.06 77223.06 77223.06 ... 107585.06 107585.06
  * XG       (XG) float32 0.0 4.0 8.0 12.0 16.0 ... 344.0 348.0 352.0 356.0
    iter     (time) int64 39600
    maskW    (Z, YC, XG) bool False False False False ... False False False
  * Zl       (Zl) float32 0.0 -50.0 -120.0 -220.0 ... -3280.0 -3870.0 -4510.0
    rAs      (YG, XC) float32 34334886000.0 34334886000.0 ... 47834423000.0
    rAz      (YG, XG) float32 34334886000.0 34334886000.0 ... 47834423000.0
    maskS    (Z, YG, XC) bool False False False False ... False False False
    dxC      (YC, XG) float32 92460.38 92460.38 92460.38 ... 92460.38 92460.38
    hFacW    (Z, YC, XG) float32 0.0 0.0 0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0 0.0
  * XC       (XC) float32 2.0 6.0 10.0 14.0 18.0 ... 346.0 350.0 354.0 358.0
Data variables:
    UVEL     (time, Z, YC, XG) float32 0.0 0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0
    VVEL     (time, Z, YG, XC) float32 0.0 0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0
    WVEL     (time, Zl, YC, XC) float32 0.0 0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0
    SALT     (time, Z, YC, XC) float32 0.0 0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0
    THETA    (time, Z, YC, XC) float32 0.0 0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0
    PH       (time, Z, YC, XC) float32 -8.300195 -8.300195 ... -202.77208
    Eta      (time, YC, XC) float32 0.0 0.0 0.0 ... -0.6233948 -0.64899963
Attributes:
    Conventions:  CF-1.6
    title:        netCDF wrapper of MITgcm MDS binary data
    source:       MITgcm
    history:      Created by calling `open_mdsdataset(extra_metadata=None, ll...</pre><div class='xr-wrap' hidden><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-9f86ef23-8282-4b3a-8832-a975ec148a18' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-9f86ef23-8282-4b3a-8832-a975ec148a18' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>XC</span>: 90</li><li><span class='xr-has-index'>XG</span>: 90</li><li><span class='xr-has-index'>YC</span>: 40</li><li><span class='xr-has-index'>YG</span>: 40</li><li><span class='xr-has-index'>Z</span>: 15</li><li><span class='xr-has-index'>Zl</span>: 15</li><li><span class='xr-has-index'>time</span>: 1</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-077a7884-7f97-4198-90e2-1fd9ab18e341' class='xr-section-summary-in' type='checkbox'  ><label for='section-077a7884-7f97-4198-90e2-1fd9ab18e341' class='xr-section-summary' >Coordinates: <span>(25)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>timedelta64[ns]</div><div class='xr-var-preview xr-preview'>11:00:00</div><input id='attrs-7fa1a261-73d6-4962-a039-ca12e4f4ab3a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-7fa1a261-73d6-4962-a039-ca12e4f4ab3a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-30561060-0180-4f19-993f-9392d632a00c' class='xr-var-data-in' type='checkbox'><label for='data-30561060-0180-4f19-993f-9392d632a00c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>time</dd><dt><span>long_name :</span></dt><dd>Time</dd><dt><span>axis :</span></dt><dd>T</dd><dt><span>calendar :</span></dt><dd>gregorian</dd></dl></div><div class='xr-var-data'><pre>array([39600000000000], dtype=&#x27;timedelta64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>maskC</span></div><div class='xr-var-dims'>(Z, YC, XC)</div><div class='xr-var-dtype'>bool</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-d344b8c2-746e-4224-ba7d-3ee0f6e3c17a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d344b8c2-746e-4224-ba7d-3ee0f6e3c17a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-01eb3eb9-b76a-4cff-bc03-fc7b23eecbf6' class='xr-var-data-in' type='checkbox'><label for='data-01eb3eb9-b76a-4cff-bc03-fc7b23eecbf6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>sea_binary_mask_at_t_location</dd><dt><span>long_name :</span></dt><dd>mask denoting wet point at center</dd></dl></div><div class='xr-var-data'><pre>array([[[False, False, ..., False, False],
        [False, False, ..., False, False],
        ...,
        [ True,  True, ...,  True,  True],
        [ True,  True, ...,  True,  True]],

       [[False, False, ..., False, False],
        [False, False, ..., False, False],
        ...,
        [ True,  True, ...,  True,  True],
        [ True,  True, ...,  True,  True]],

       ...,

       [[False, False, ..., False, False],
        [False, False, ..., False, False],
        ...,
        [False, False, ..., False, False],
        [False, False, ..., False, False]],

       [[False, False, ..., False, False],
        [False, False, ..., False, False],
        ...,
        [False, False, ..., False, False],
        [False, False, ..., False, False]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dyC</span></div><div class='xr-var-dims'>(YG, XC)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-c874806e-9565-4d78-883d-0e4513719732' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-c874806e-9565-4d78-883d-0e4513719732' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-758899b7-f698-4af5-986e-1fb2059ce024' class='xr-var-data-in' type='checkbox'><label for='data-758899b7-f698-4af5-986e-1fb2059ce024' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>cell_y_size_at_v_location</dd><dt><span>long_name :</span></dt><dd>cell y size</dd><dt><span>units :</span></dt><dd>m</dd><dt><span>coordinate :</span></dt><dd>YG XC</dd></dl></div><div class='xr-var-data'><pre>array([[444709.9, 444709.9, 444709.9, ..., 444709.9, 444709.9, 444709.9],
       [444709.9, 444709.9, 444709.9, ..., 444709.9, 444709.9, 444709.9],
       [444709.9, 444709.9, 444709.9, ..., 444709.9, 444709.9, 444709.9],
       ...,
       [444709.9, 444709.9, 444709.9, ..., 444709.9, 444709.9, 444709.9],
       [444709.9, 444709.9, 444709.9, ..., 444709.9, 444709.9, 444709.9],
       [444709.9, 444709.9, 444709.9, ..., 444709.9, 444709.9, 444709.9]],
      dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>hFacC</span></div><div class='xr-var-dims'>(Z, YC, XC)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-5b21db28-282e-4c08-991e-fd74e9f3bd4a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-5b21db28-282e-4c08-991e-fd74e9f3bd4a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9df54a6a-c4e6-4eaf-bc5c-cb5bd417fcae' class='xr-var-data-in' type='checkbox'><label for='data-9df54a6a-c4e6-4eaf-bc5c-cb5bd417fcae' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>cell_vertical_fraction</dd><dt><span>long_name :</span></dt><dd>vertical fraction of open cell</dd></dl></div><div class='xr-var-data'><pre>array([[[0., 0., ..., 0., 0.],
        [0., 0., ..., 0., 0.],
        ...,
        [1., 1., ..., 1., 1.],
        [1., 1., ..., 1., 1.]],

       [[0., 0., ..., 0., 0.],
        [0., 0., ..., 0., 0.],
        ...,
        [1., 1., ..., 1., 1.],
        [1., 1., ..., 1., 1.]],

       ...,

       [[0., 0., ..., 0., 0.],
        [0., 0., ..., 0., 0.],
        ...,
        [0., 0., ..., 0., 0.],
        [0., 0., ..., 0., 0.]],

       [[0., 0., ..., 0., 0.],
        [0., 0., ..., 0., 0.],
        ...,
        [0., 0., ..., 0., 0.],
        [0., 0., ..., 0., 0.]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>rA</span></div><div class='xr-var-dims'>(YC, XC)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-5fe5e83c-6b8b-4220-905f-c8ba5795c4cf' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-5fe5e83c-6b8b-4220-905f-c8ba5795c4cf' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4ac86ec5-f944-4584-9770-f19c48e1fb18' class='xr-var-data-in' type='checkbox'><label for='data-4ac86ec5-f944-4584-9770-f19c48e1fb18' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>cell_area</dd><dt><span>long_name :</span></dt><dd>cell area</dd><dt><span>units :</span></dt><dd>m2</dd><dt><span>coordinate :</span></dt><dd>YC XC</dd></dl></div><div class='xr-var-data'><pre>array([[4.110970e+10, 4.110970e+10, 4.110970e+10, ..., 4.110970e+10,
        4.110970e+10, 4.110970e+10],
       [5.450087e+10, 5.450087e+10, 5.450087e+10, ..., 5.450087e+10,
        5.450087e+10, 5.450087e+10],
       [6.762652e+10, 6.762652e+10, 6.762652e+10, ..., 6.762652e+10,
        6.762652e+10, 6.762652e+10],
       ...,
       [6.762652e+10, 6.762652e+10, 6.762652e+10, ..., 6.762652e+10,
        6.762652e+10, 6.762652e+10],
       [5.450087e+10, 5.450087e+10, 5.450087e+10, ..., 5.450087e+10,
        5.450087e+10, 5.450087e+10],
       [4.110970e+10, 4.110970e+10, 4.110970e+10, ..., 4.110970e+10,
        4.110970e+10, 4.110970e+10]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>hFacS</span></div><div class='xr-var-dims'>(Z, YG, XC)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-3ac418f4-b273-4baf-baec-c5532c0b85c8' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-3ac418f4-b273-4baf-baec-c5532c0b85c8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1f3be017-49a1-4c5a-afe5-f58d3d2671bc' class='xr-var-data-in' type='checkbox'><label for='data-1f3be017-49a1-4c5a-afe5-f58d3d2671bc' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>cell_vertical_fraction_at_v_location</dd><dt><span>long_name :</span></dt><dd>vertical fraction of open cell</dd></dl></div><div class='xr-var-data'><pre>array([[[0., 0., ..., 0., 0.],
        [0., 0., ..., 0., 0.],
        ...,
        [1., 1., ..., 1., 1.],
        [1., 1., ..., 1., 1.]],

       [[0., 0., ..., 0., 0.],
        [0., 0., ..., 0., 0.],
        ...,
        [1., 1., ..., 1., 1.],
        [1., 1., ..., 1., 1.]],

       ...,

       [[0., 0., ..., 0., 0.],
        [0., 0., ..., 0., 0.],
        ...,
        [0., 0., ..., 0., 0.],
        [0., 0., ..., 0., 0.]],

       [[0., 0., ..., 0., 0.],
        [0., 0., ..., 0., 0.],
        ...,
        [0., 0., ..., 0., 0.],
        [0., 0., ..., 0., 0.]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>Depth</span></div><div class='xr-var-dims'>(YC, XC)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-1166cc38-2f62-41d0-be69-f3bf3512ae17' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1166cc38-2f62-41d0-be69-f3bf3512ae17' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fa930daa-5f33-4cce-9281-081d43a1042d' class='xr-var-data-in' type='checkbox'><label for='data-fa930daa-5f33-4cce-9281-081d43a1042d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>ocean_depth</dd><dt><span>long_name :</span></dt><dd>ocean depth</dd><dt><span>units :</span></dt><dd>m</dd><dt><span>coordinate :</span></dt><dd>XC YC</dd></dl></div><div class='xr-var-data'><pre>array([[   0. ,    0. ,    0. , ...,    0. ,    0. ,    0. ],
       [   0. ,    0. ,    0. , ...,    0. ,    0. ,    0. ],
       [3740. , 3671.5, 1732.5, ..., 3821. , 4047.5, 4047.5],
       ...,
       [2144. , 2214.5, 2414. , ..., 1586.5, 2703. , 2048.5],
       [2995. , 2414. , 2414. , ..., 1183. , 1569.5, 2995. ],
       [2995. , 2354.5, 2087. , ...,  187.5, 1917. , 2995. ]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>YG</span></div><div class='xr-var-dims'>(YG)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-80.0 -76.0 -72.0 ... 72.0 76.0</div><input id='attrs-69c85ba8-a4b0-4710-bdc9-151a3d53958c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-69c85ba8-a4b0-4710-bdc9-151a3d53958c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-aa70598c-eeda-4dbd-8e00-2ee6f2a5ad99' class='xr-var-data-in' type='checkbox'><label for='data-aa70598c-eeda-4dbd-8e00-2ee6f2a5ad99' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>latitude_at_f_location</dd><dt><span>long_name :</span></dt><dd>latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>axis :</span></dt><dd>Y</dd><dt><span>c_grid_axis_shift :</span></dt><dd>-0.5</dd></dl></div><div class='xr-var-data'><pre>array([-80., -76., -72., -68., -64., -60., -56., -52., -48., -44., -40., -36.,
       -32., -28., -24., -20., -16., -12.,  -8.,  -4.,   0.,   4.,   8.,  12.,
        16.,  20.,  24.,  28.,  32.,  36.,  40.,  44.,  48.,  52.,  56.,  60.,
        64.,  68.,  72.,  76.], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>Z</span></div><div class='xr-var-dims'>(Z)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-25.0 -85.0 ... -4190.0 -4855.0</div><input id='attrs-869f9a5b-4272-45c4-ad93-caa0a3141b99' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-869f9a5b-4272-45c4-ad93-caa0a3141b99' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1c2ec5c0-fa26-4262-9237-b0ef8f230d58' class='xr-var-data-in' type='checkbox'><label for='data-1c2ec5c0-fa26-4262-9237-b0ef8f230d58' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>depth</dd><dt><span>long_name :</span></dt><dd>vertical coordinate of cell center</dd><dt><span>units :</span></dt><dd>m</dd><dt><span>positive :</span></dt><dd>down</dd><dt><span>axis :</span></dt><dd>Z</dd></dl></div><div class='xr-var-data'><pre>array([  -25.,   -85.,  -170.,  -290.,  -455.,  -670.,  -935., -1250., -1615.,
       -2030., -2495., -3010., -3575., -4190., -4855.], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>PHrefC</span></div><div class='xr-var-dims'>(Z)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-8441dcea-bead-41cf-800e-0c2aa485bdf2' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8441dcea-bead-41cf-800e-0c2aa485bdf2' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f3567b95-2a51-4b9a-bf99-5ec902378721' class='xr-var-data-in' type='checkbox'><label for='data-f3567b95-2a51-4b9a-bf99-5ec902378721' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>cell_reference_pressure</dd><dt><span>long_name :</span></dt><dd>Reference Hydrostatic Pressure</dd><dt><span>units :</span></dt><dd>m2 s-2</dd></dl></div><div class='xr-var-data'><pre>array([  245.25,   833.85,  1667.7 ,  2844.9 ,  4463.55,  6572.7 ,  9172.35,
       12262.5 , 15843.15, 19914.3 , 24475.95, 29528.1 , 35070.75, 41103.9 ,
       47627.55], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dyG</span></div><div class='xr-var-dims'>(YC, XG)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-66876f0a-d2e0-4754-bf62-2c2b6644c378' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-66876f0a-d2e0-4754-bf62-2c2b6644c378' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-cc0156af-de24-4e05-93ba-244807e34ea5' class='xr-var-data-in' type='checkbox'><label for='data-cc0156af-de24-4e05-93ba-244807e34ea5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>cell_y_size_at_u_location</dd><dt><span>long_name :</span></dt><dd>cell y size</dd><dt><span>units :</span></dt><dd>m</dd><dt><span>coordinate :</span></dt><dd>YC XG</dd></dl></div><div class='xr-var-data'><pre>array([[444709.9, 444709.9, 444709.9, ..., 444709.9, 444709.9, 444709.9],
       [444709.9, 444709.9, 444709.9, ..., 444709.9, 444709.9, 444709.9],
       [444709.9, 444709.9, 444709.9, ..., 444709.9, 444709.9, 444709.9],
       ...,
       [444709.9, 444709.9, 444709.9, ..., 444709.9, 444709.9, 444709.9],
       [444709.9, 444709.9, 444709.9, ..., 444709.9, 444709.9, 444709.9],
       [444709.9, 444709.9, 444709.9, ..., 444709.9, 444709.9, 444709.9]],
      dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>rAw</span></div><div class='xr-var-dims'>(YC, XG)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-ca1ed1bf-8d2e-437c-8ea6-071facc94e4d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-ca1ed1bf-8d2e-437c-8ea6-071facc94e4d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d37d3596-9347-4645-ac33-5e0b03939a40' class='xr-var-data-in' type='checkbox'><label for='data-d37d3596-9347-4645-ac33-5e0b03939a40' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>cell_area_at_u_location</dd><dt><span>long_name :</span></dt><dd>cell area</dd><dt><span>units :</span></dt><dd>m2</dd><dt><span>coordinate :</span></dt><dd>YG XC</dd></dl></div><div class='xr-var-data'><pre>array([[4.110970e+10, 4.110970e+10, 4.110970e+10, ..., 4.110970e+10,
        4.110970e+10, 4.110970e+10],
       [5.450087e+10, 5.450087e+10, 5.450087e+10, ..., 5.450087e+10,
        5.450087e+10, 5.450087e+10],
       [6.762652e+10, 6.762652e+10, 6.762652e+10, ..., 6.762652e+10,
        6.762652e+10, 6.762652e+10],
       ...,
       [6.762652e+10, 6.762652e+10, 6.762652e+10, ..., 6.762652e+10,
        6.762652e+10, 6.762652e+10],
       [5.450087e+10, 5.450087e+10, 5.450087e+10, ..., 5.450087e+10,
        5.450087e+10, 5.450087e+10],
       [4.110970e+10, 4.110970e+10, 4.110970e+10, ..., 4.110970e+10,
        4.110970e+10, 4.110970e+10]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>drF</span></div><div class='xr-var-dims'>(Z)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-d5eb78f1-dfe9-41dc-ae28-727134b2774f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d5eb78f1-dfe9-41dc-ae28-727134b2774f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a7f264ef-178d-4398-9ed6-6b47a62f6da4' class='xr-var-data-in' type='checkbox'><label for='data-a7f264ef-178d-4398-9ed6-6b47a62f6da4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>cell_z_size</dd><dt><span>long_name :</span></dt><dd>cell z size</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>array([ 50.,  70., 100., 140., 190., 240., 290., 340., 390., 440., 490., 540.,
       590., 640., 690.], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>YC</span></div><div class='xr-var-dims'>(YC)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-78.0 -74.0 -70.0 ... 74.0 78.0</div><input id='attrs-1bd5d1dc-2e88-44bc-bb5d-dfac5983735b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1bd5d1dc-2e88-44bc-bb5d-dfac5983735b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-47cdb13f-d1c9-40d5-b451-a1e49575cdde' class='xr-var-data-in' type='checkbox'><label for='data-47cdb13f-d1c9-40d5-b451-a1e49575cdde' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>long_name :</span></dt><dd>latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>coordinate :</span></dt><dd>YC XC</dd><dt><span>axis :</span></dt><dd>Y</dd></dl></div><div class='xr-var-data'><pre>array([-78., -74., -70., -66., -62., -58., -54., -50., -46., -42., -38., -34.,
       -30., -26., -22., -18., -14., -10.,  -6.,  -2.,   2.,   6.,  10.,  14.,
        18.,  22.,  26.,  30.,  34.,  38.,  42.,  46.,  50.,  54.,  58.,  62.,
        66.,  70.,  74.,  78.], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dxG</span></div><div class='xr-var-dims'>(YG, XC)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-43f81a13-7779-41e1-a7ef-453988431d6f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-43f81a13-7779-41e1-a7ef-453988431d6f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-84d5706f-1a6e-411e-a6a7-3656da2c5a62' class='xr-var-data-in' type='checkbox'><label for='data-84d5706f-1a6e-411e-a6a7-3656da2c5a62' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>cell_x_size_at_v_location</dd><dt><span>long_name :</span></dt><dd>cell x size</dd><dt><span>units :</span></dt><dd>m</dd><dt><span>coordinate :</span></dt><dd>YG XC</dd></dl></div><div class='xr-var-data'><pre>array([[ 77223.06,  77223.06,  77223.06, ...,  77223.06,  77223.06,  77223.06],
       [107585.06, 107585.06, 107585.06, ..., 107585.06, 107585.06, 107585.06],
       [137422.92, 137422.92, 137422.92, ..., 137422.92, 137422.92, 137422.92],
       ...,
       [166591.27, 166591.27, 166591.27, ..., 166591.27, 166591.27, 166591.27],
       [137422.92, 137422.92, 137422.92, ..., 137422.92, 137422.92, 137422.92],
       [107585.06, 107585.06, 107585.06, ..., 107585.06, 107585.06, 107585.06]],
      dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>XG</span></div><div class='xr-var-dims'>(XG)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.0 4.0 8.0 ... 348.0 352.0 356.0</div><input id='attrs-65c7c8ab-4146-4c1f-8014-49dccb5d25c9' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-65c7c8ab-4146-4c1f-8014-49dccb5d25c9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a0d59f10-564f-4f10-a7a8-22b9de6e8190' class='xr-var-data-in' type='checkbox'><label for='data-a0d59f10-564f-4f10-a7a8-22b9de6e8190' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>longitude_at_f_location</dd><dt><span>long_name :</span></dt><dd>longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>coordinate :</span></dt><dd>YG XG</dd><dt><span>axis :</span></dt><dd>X</dd><dt><span>c_grid_axis_shift :</span></dt><dd>-0.5</dd></dl></div><div class='xr-var-data'><pre>array([  0.,   4.,   8.,  12.,  16.,  20.,  24.,  28.,  32.,  36.,  40.,  44.,
        48.,  52.,  56.,  60.,  64.,  68.,  72.,  76.,  80.,  84.,  88.,  92.,
        96., 100., 104., 108., 112., 116., 120., 124., 128., 132., 136., 140.,
       144., 148., 152., 156., 160., 164., 168., 172., 176., 180., 184., 188.,
       192., 196., 200., 204., 208., 212., 216., 220., 224., 228., 232., 236.,
       240., 244., 248., 252., 256., 260., 264., 268., 272., 276., 280., 284.,
       288., 292., 296., 300., 304., 308., 312., 316., 320., 324., 328., 332.,
       336., 340., 344., 348., 352., 356.], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>iter</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-5591e37a-29fb-4d16-9801-1546279c25f2' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-5591e37a-29fb-4d16-9801-1546279c25f2' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-94748783-2574-412c-a6ea-3a0353165b7b' class='xr-var-data-in' type='checkbox'><label for='data-94748783-2574-412c-a6ea-3a0353165b7b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>timestep</dd><dt><span>long_name :</span></dt><dd>model timestep number</dd></dl></div><div class='xr-var-data'><pre>array([39600])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>maskW</span></div><div class='xr-var-dims'>(Z, YC, XG)</div><div class='xr-var-dtype'>bool</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-03ad88e0-a69e-456d-a763-cca775f86d43' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-03ad88e0-a69e-456d-a763-cca775f86d43' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3a8eff8f-498b-4baa-aa73-b47c1d12e793' class='xr-var-data-in' type='checkbox'><label for='data-3a8eff8f-498b-4baa-aa73-b47c1d12e793' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>cell_vertical_fraction_at_u_location</dd><dt><span>long_name :</span></dt><dd>mask denoting wet point at interface</dd></dl></div><div class='xr-var-data'><pre>array([[[False, False, ..., False, False],
        [False, False, ..., False, False],
        ...,
        [ True,  True, ...,  True,  True],
        [ True,  True, ...,  True,  True]],

       [[False, False, ..., False, False],
        [False, False, ..., False, False],
        ...,
        [ True,  True, ...,  True,  True],
        [ True,  True, ...,  True,  True]],

       ...,

       [[False, False, ..., False, False],
        [False, False, ..., False, False],
        ...,
        [False, False, ..., False, False],
        [False, False, ..., False, False]],

       [[False, False, ..., False, False],
        [False, False, ..., False, False],
        ...,
        [False, False, ..., False, False],
        [False, False, ..., False, False]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>Zl</span></div><div class='xr-var-dims'>(Zl)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.0 -50.0 ... -3870.0 -4510.0</div><input id='attrs-cb7f471b-ea2e-4c5e-88c7-66cff02ec4e7' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-cb7f471b-ea2e-4c5e-88c7-66cff02ec4e7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a464ea31-1c35-49cf-8ca2-c66d224bcc19' class='xr-var-data-in' type='checkbox'><label for='data-a464ea31-1c35-49cf-8ca2-c66d224bcc19' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>depth_at_upper_w_location</dd><dt><span>long_name :</span></dt><dd>vertical coordinate of upper cell interface</dd><dt><span>units :</span></dt><dd>m</dd><dt><span>positive :</span></dt><dd>down</dd><dt><span>axis :</span></dt><dd>Z</dd><dt><span>c_grid_axis_shift :</span></dt><dd>-0.5</dd></dl></div><div class='xr-var-data'><pre>array([    0.,   -50.,  -120.,  -220.,  -360.,  -550.,  -790., -1080., -1420.,
       -1810., -2250., -2740., -3280., -3870., -4510.], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>rAs</span></div><div class='xr-var-dims'>(YG, XC)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-caa6b729-e34c-4c94-b9e5-4c52a16bea9e' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-caa6b729-e34c-4c94-b9e5-4c52a16bea9e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-cbf9a3d8-17a1-4f74-b0ff-43c2f56c6a22' class='xr-var-data-in' type='checkbox'><label for='data-cbf9a3d8-17a1-4f74-b0ff-43c2f56c6a22' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>cell_area_at_v_location</dd><dt><span>long_name :</span></dt><dd>cell area</dd><dt><span>units :</span></dt><dd>m2</dd></dl></div><div class='xr-var-data'><pre>array([[3.433489e+10, 3.433489e+10, 3.433489e+10, ..., 3.433489e+10,
        3.433489e+10, 3.433489e+10],
       [4.783442e+10, 4.783442e+10, 4.783442e+10, ..., 4.783442e+10,
        4.783442e+10, 4.783442e+10],
       [6.110092e+10, 6.110092e+10, 6.110092e+10, ..., 6.110092e+10,
        6.110092e+10, 6.110092e+10],
       ...,
       [7.406974e+10, 7.406974e+10, 7.406974e+10, ..., 7.406974e+10,
        7.406974e+10, 7.406974e+10],
       [6.110092e+10, 6.110092e+10, 6.110092e+10, ..., 6.110092e+10,
        6.110092e+10, 6.110092e+10],
       [4.783442e+10, 4.783442e+10, 4.783442e+10, ..., 4.783442e+10,
        4.783442e+10, 4.783442e+10]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>rAz</span></div><div class='xr-var-dims'>(YG, XG)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-64315b17-d6fe-4a0d-bd49-2382856aacb9' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-64315b17-d6fe-4a0d-bd49-2382856aacb9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-bffc6ab3-f199-460f-875b-2b0bd8c420cb' class='xr-var-data-in' type='checkbox'><label for='data-bffc6ab3-f199-460f-875b-2b0bd8c420cb' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>cell_area_at_f_location</dd><dt><span>long_name :</span></dt><dd>cell area</dd><dt><span>units :</span></dt><dd>m</dd><dt><span>coordinate :</span></dt><dd>YG XG</dd></dl></div><div class='xr-var-data'><pre>array([[3.433489e+10, 3.433489e+10, 3.433489e+10, ..., 3.433489e+10,
        3.433489e+10, 3.433489e+10],
       [4.783442e+10, 4.783442e+10, 4.783442e+10, ..., 4.783442e+10,
        4.783442e+10, 4.783442e+10],
       [6.110092e+10, 6.110092e+10, 6.110092e+10, ..., 6.110092e+10,
        6.110092e+10, 6.110092e+10],
       ...,
       [7.406974e+10, 7.406974e+10, 7.406974e+10, ..., 7.406974e+10,
        7.406974e+10, 7.406974e+10],
       [6.110092e+10, 6.110092e+10, 6.110092e+10, ..., 6.110092e+10,
        6.110092e+10, 6.110092e+10],
       [4.783442e+10, 4.783442e+10, 4.783442e+10, ..., 4.783442e+10,
        4.783442e+10, 4.783442e+10]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>maskS</span></div><div class='xr-var-dims'>(Z, YG, XC)</div><div class='xr-var-dtype'>bool</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-13790df2-e0fe-41fd-bd70-715ebec606f6' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-13790df2-e0fe-41fd-bd70-715ebec606f6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-46a492b9-be1e-47f8-a266-b76bca17f5fc' class='xr-var-data-in' type='checkbox'><label for='data-46a492b9-be1e-47f8-a266-b76bca17f5fc' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>cell_vertical_fraction_at_v_location</dd><dt><span>long_name :</span></dt><dd>mask denoting wet point at interface</dd></dl></div><div class='xr-var-data'><pre>array([[[False, False, ..., False, False],
        [False, False, ..., False, False],
        ...,
        [ True,  True, ...,  True,  True],
        [ True,  True, ...,  True,  True]],

       [[False, False, ..., False, False],
        [False, False, ..., False, False],
        ...,
        [ True,  True, ...,  True,  True],
        [ True,  True, ...,  True,  True]],

       ...,

       [[False, False, ..., False, False],
        [False, False, ..., False, False],
        ...,
        [False, False, ..., False, False],
        [False, False, ..., False, False]],

       [[False, False, ..., False, False],
        [False, False, ..., False, False],
        ...,
        [False, False, ..., False, False],
        [False, False, ..., False, False]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dxC</span></div><div class='xr-var-dims'>(YC, XG)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-0ab74a4e-91e2-4ce2-8409-98b131b8f40e' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-0ab74a4e-91e2-4ce2-8409-98b131b8f40e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-00e6b79d-d1cf-4e58-86b5-8bac39f1c8b0' class='xr-var-data-in' type='checkbox'><label for='data-00e6b79d-d1cf-4e58-86b5-8bac39f1c8b0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>cell_x_size_at_u_location</dd><dt><span>long_name :</span></dt><dd>cell x size</dd><dt><span>units :</span></dt><dd>m</dd><dt><span>coordinate :</span></dt><dd>YC XG</dd></dl></div><div class='xr-var-data'><pre>array([[ 92460.38,  92460.38,  92460.38, ...,  92460.38,  92460.38,  92460.38],
       [122578.66, 122578.66, 122578.66, ..., 122578.66, 122578.66, 122578.66],
       [152099.73, 152099.73, 152099.73, ..., 152099.73, 152099.73, 152099.73],
       ...,
       [152099.73, 152099.73, 152099.73, ..., 152099.73, 152099.73, 152099.73],
       [122578.66, 122578.66, 122578.66, ..., 122578.66, 122578.66, 122578.66],
       [ 92460.38,  92460.38,  92460.38, ...,  92460.38,  92460.38,  92460.38]],
      dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>hFacW</span></div><div class='xr-var-dims'>(Z, YC, XG)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-1d552467-baab-4ec3-a957-3b961719f0f6' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1d552467-baab-4ec3-a957-3b961719f0f6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-12045afa-d880-49d2-8d1b-ce790b665db8' class='xr-var-data-in' type='checkbox'><label for='data-12045afa-d880-49d2-8d1b-ce790b665db8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>cell_vertical_fraction_at_u_location</dd><dt><span>long_name :</span></dt><dd>vertical fraction of open cell</dd></dl></div><div class='xr-var-data'><pre>array([[[0., 0., ..., 0., 0.],
        [0., 0., ..., 0., 0.],
        ...,
        [1., 1., ..., 1., 1.],
        [1., 1., ..., 1., 1.]],

       [[0., 0., ..., 0., 0.],
        [0., 0., ..., 0., 0.],
        ...,
        [1., 1., ..., 1., 1.],
        [1., 1., ..., 1., 1.]],

       ...,

       [[0., 0., ..., 0., 0.],
        [0., 0., ..., 0., 0.],
        ...,
        [0., 0., ..., 0., 0.],
        [0., 0., ..., 0., 0.]],

       [[0., 0., ..., 0., 0.],
        [0., 0., ..., 0., 0.],
        ...,
        [0., 0., ..., 0., 0.],
        [0., 0., ..., 0., 0.]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>XC</span></div><div class='xr-var-dims'>(XC)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>2.0 6.0 10.0 ... 350.0 354.0 358.0</div><input id='attrs-b74ff3ca-db77-44cc-ac94-d46e7530e22d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b74ff3ca-db77-44cc-ac94-d46e7530e22d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b82e16a3-07b7-4495-aa5a-0c209d01af97' class='xr-var-data-in' type='checkbox'><label for='data-b82e16a3-07b7-4495-aa5a-0c209d01af97' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>long_name :</span></dt><dd>longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>coordinate :</span></dt><dd>YC XC</dd><dt><span>axis :</span></dt><dd>X</dd></dl></div><div class='xr-var-data'><pre>array([  2.,   6.,  10.,  14.,  18.,  22.,  26.,  30.,  34.,  38.,  42.,  46.,
        50.,  54.,  58.,  62.,  66.,  70.,  74.,  78.,  82.,  86.,  90.,  94.,
        98., 102., 106., 110., 114., 118., 122., 126., 130., 134., 138., 142.,
       146., 150., 154., 158., 162., 166., 170., 174., 178., 182., 186., 190.,
       194., 198., 202., 206., 210., 214., 218., 222., 226., 230., 234., 238.,
       242., 246., 250., 254., 258., 262., 266., 270., 274., 278., 282., 286.,
       290., 294., 298., 302., 306., 310., 314., 318., 322., 326., 330., 334.,
       338., 342., 346., 350., 354., 358.], dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-98518466-1fce-4ef8-a641-442d669439e5' class='xr-section-summary-in' type='checkbox'  checked><label for='section-98518466-1fce-4ef8-a641-442d669439e5' class='xr-section-summary' >Data variables: <span>(7)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>UVEL</span></div><div class='xr-var-dims'>(time, Z, YC, XG)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-b3ca23a6-5b63-4b5c-8c7a-c0ab02d4b012' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b3ca23a6-5b63-4b5c-8c7a-c0ab02d4b012' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a6baa046-500d-43b3-9f3a-b8c1a8a4fcbb' class='xr-var-data-in' type='checkbox'><label for='data-a6baa046-500d-43b3-9f3a-b8c1a8a4fcbb' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>UVEL</dd><dt><span>long_name :</span></dt><dd>Zonal Component of Velocity (m/s)</dd><dt><span>units :</span></dt><dd>m/s</dd><dt><span>mate :</span></dt><dd>VVEL</dd></dl></div><div class='xr-var-data'><pre>array([[[[ 0.      , ...,  0.      ],
         ...,
         [-0.005508, ..., -0.00823 ]],

        ...,

        [[ 0.      , ...,  0.      ],
         ...,
         [ 0.      , ...,  0.      ]]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>VVEL</span></div><div class='xr-var-dims'>(time, Z, YG, XC)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-ad0b8a43-b97e-4461-ad67-a14e9d0c756a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-ad0b8a43-b97e-4461-ad67-a14e9d0c756a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2bfb19c9-889e-4352-ac72-ac4e95cf5b97' class='xr-var-data-in' type='checkbox'><label for='data-2bfb19c9-889e-4352-ac72-ac4e95cf5b97' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>VVEL</dd><dt><span>long_name :</span></dt><dd>Meridional Component of Velocity (m/s)</dd><dt><span>units :</span></dt><dd>m/s</dd><dt><span>mate :</span></dt><dd>UVEL</dd></dl></div><div class='xr-var-data'><pre>array([[[[ 0.      , ...,  0.      ],
         ...,
         [ 0.003407, ..., -0.002983]],

        ...,

        [[ 0.      , ...,  0.      ],
         ...,
         [ 0.      , ...,  0.      ]]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>WVEL</span></div><div class='xr-var-dims'>(time, Zl, YC, XC)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-152400b9-783c-49e0-b1ef-12ac74e9497e' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-152400b9-783c-49e0-b1ef-12ac74e9497e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3fb31db7-29e3-4165-855d-999a38d8c4e7' class='xr-var-data-in' type='checkbox'><label for='data-3fb31db7-29e3-4165-855d-999a38d8c4e7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>WVEL</dd><dt><span>long_name :</span></dt><dd>Vertical Component of Velocity (r_units/s)</dd><dt><span>units :</span></dt><dd>m/s</dd></dl></div><div class='xr-var-data'><pre>array([[[[ 0.000000e+00, ...,  0.000000e+00],
         ...,
         [ 2.502884e-09, ..., -1.597719e-09]],

        ...,

        [[ 0.000000e+00, ...,  0.000000e+00],
         ...,
         [ 0.000000e+00, ...,  0.000000e+00]]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>SALT</span></div><div class='xr-var-dims'>(time, Z, YC, XC)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-7a25b778-a9a3-4dba-a3dd-aeaba4bc1029' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-7a25b778-a9a3-4dba-a3dd-aeaba4bc1029' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e9c7a4ac-38cb-4be5-9c46-be77778e0e21' class='xr-var-data-in' type='checkbox'><label for='data-e9c7a4ac-38cb-4be5-9c46-be77778e0e21' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>SALT</dd><dt><span>long_name :</span></dt><dd>Salinity</dd><dt><span>units :</span></dt><dd>psu</dd></dl></div><div class='xr-var-data'><pre>array([[[[ 0.      , ...,  0.      ],
         ...,
         [34.48869 , ..., 34.226387]],

        ...,

        [[ 0.      , ...,  0.      ],
         ...,
         [ 0.      , ...,  0.      ]]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>THETA</span></div><div class='xr-var-dims'>(time, Z, YC, XC)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-150ec2dc-fcbd-4678-9fdd-6c9da82b8e86' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-150ec2dc-fcbd-4678-9fdd-6c9da82b8e86' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0649d680-ec37-47ff-aa8e-300396ace4c2' class='xr-var-data-in' type='checkbox'><label for='data-0649d680-ec37-47ff-aa8e-300396ace4c2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>THETA</dd><dt><span>long_name :</span></dt><dd>Potential Temperature</dd><dt><span>units :</span></dt><dd>degC</dd></dl></div><div class='xr-var-data'><pre>array([[[[ 0.      , ...,  0.      ],
         ...,
         [ 0.010286, ..., -0.237801]],

        ...,

        [[ 0.      , ...,  0.      ],
         ...,
         [ 0.      , ...,  0.      ]]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>PH</span></div><div class='xr-var-dims'>(time, Z, YC, XC)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-db36afe5-dcd6-4495-9e5a-8f96d56f6f2b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-db36afe5-dcd6-4495-9e5a-8f96d56f6f2b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2767c6ef-cd9e-430d-864b-9cc51f333348' class='xr-var-data-in' type='checkbox'><label for='data-2767c6ef-cd9e-430d-864b-9cc51f333348' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>sea_water_dynamic_pressue</dd><dt><span>long_name :</span></dt><dd>Hydrostatic Pressure Pot.(p/rho) Anomaly</dd><dt><span>units :</span></dt><dd>m2 s-2</dd></dl></div><div class='xr-var-data'><pre>array([[[[   -8.300195, ...,    -8.300195],
         ...,
         [   -8.130636, ...,    -8.112844]],

        ...,

        [[-1062.0314  , ..., -1062.0314  ],
         ...,
         [ -202.76265 , ...,  -202.77208 ]]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>Eta</span></div><div class='xr-var-dims'>(time, YC, XC)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-ae969b99-7604-426f-9860-e7168e72bb6d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-ae969b99-7604-426f-9860-e7168e72bb6d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4ca35797-0ed9-41e1-9f4b-ef84b3337d6c' class='xr-var-data-in' type='checkbox'><label for='data-4ca35797-0ed9-41e1-9f4b-ef84b3337d6c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>ETAN</dd><dt><span>long_name :</span></dt><dd>Surface Height Anomaly</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>array([[[ 0.      ,  0.      , ...,  0.      ,  0.      ],
        [ 0.      ,  0.      , ...,  0.      ,  0.      ],
        ...,
        [-0.702411, -0.694586, ..., -0.694789, -0.709546],
        [-0.656158, -0.659816, ..., -0.623395, -0.649   ]]], dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-c59f81f1-e66a-43f4-a873-3d9591bb7fa1' class='xr-section-summary-in' type='checkbox'  checked><label for='section-c59f81f1-e66a-43f4-a873-3d9591bb7fa1' class='xr-section-summary' >Attributes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>Conventions :</span></dt><dd>CF-1.6</dd><dt><span>title :</span></dt><dd>netCDF wrapper of MITgcm MDS binary data</dd><dt><span>source :</span></dt><dd>MITgcm</dd><dt><span>history :</span></dt><dd>Created by calling `open_mdsdataset(extra_metadata=None, llc_method=&#x27;smallchunks&#x27;, nz=None, ny=None, nx=None, default_dtype=None, ignore_unknown_vars=False, chunks=None, endian=&#x27;&gt;&#x27;, swap_dims=None, grid_vars_to_coords=True, geometry=&#x27;sphericalpolar&#x27;, calendar=&#x27;gregorian&#x27;, ref_date=None, delta_t=1, read_grid=True, prefix=None, iters=&#x27;all&#x27;, grid_dir=None, data_dir=&#x27;./global_oce_latlon/&#x27;)`</dd></dl></div></li></ul></div></div></div>
</div>
<div class="section" id="Creating-the-grid-object">
<h2>Creating the grid object<a class="headerlink" href="#Creating-the-grid-object" title="Permalink to this headline">¶</a></h2>
<p>Next we create a <code class="docutils literal notranslate"><span class="pre">Grid</span></code> object from the dataset. We need to tell xgcm that the <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> axes are periodic. (The other axes will be assumed to be non-periodic.)</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">grid</span> <span class="o">=</span> <span class="n">xgcm</span><span class="o">.</span><span class="n">Grid</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">periodic</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">])</span>
<span class="n">grid</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;xgcm.Grid&gt;
Y Axis (periodic, boundary=None):
  * center   YC --&gt; left
  * left     YG --&gt; center
T Axis (not periodic, boundary=None):
  * center   time
X Axis (periodic, boundary=None):
  * center   XC --&gt; left
  * left     XG --&gt; center
Z Axis (not periodic, boundary=None):
  * center   Z --&gt; left
  * left     Zl --&gt; center
</pre></div></div>
</div>
<p>We see that xgcm identified five different axes: X (longitude), Y (latitude), Z (depth), T (time), and 1RHO (the axis generated by the output of the LAYERS package).</p>
<div class="section" id="Velocity-Gradients">
<h3>Velocity Gradients<a class="headerlink" href="#Velocity-Gradients" title="Permalink to this headline">¶</a></h3>
<p>The gradients of the velocity field can be decomposed as divergence, vorticity, and strain. Below we use xgcm to compute the velocity gradients of the horizontal flow.</p>
</div>
</div>
<div class="section" id="Divergence">
<h2>Divergence<a class="headerlink" href="#Divergence" title="Permalink to this headline">¶</a></h2>
<p>The divergence of the horizontal flow is is expressed as</p>
<div class="math notranslate nohighlight">
\[\frac{\partial u}{\partial x} + \frac{\partial v}{\partial y}\]</div>
<p>In discrete form, using <a class="reference external" href="http://mitgcm.org/public/r2_manual/latest/online_documents/node50.html">MITgcm notation</a>, the formula for the C-grid is</p>
<div class="math notranslate nohighlight">
\[( \delta_i \Delta y_g \Delta r_f h_w u + \delta_j \Delta x_g \Delta r_f h_s v ) / A_c\]</div>
<p>First we calculate the volume transports in each direction:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">u_transport</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">UVEL</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">dyG</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">hFacW</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">drF</span>
<span class="n">v_transport</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">VVEL</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">dxG</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">hFacS</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">drF</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">u_transport</span></code> DataArray is on the left point of the X axis, while the <code class="docutils literal notranslate"><span class="pre">v_transport</span></code> DataArray is on the left point of the Y axis.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">display</span><span class="p">(</span><span class="n">u_transport</span><span class="o">.</span><span class="n">dims</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">v_transport</span><span class="o">.</span><span class="n">dims</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(&#39;time&#39;, &#39;Z&#39;, &#39;YC&#39;, &#39;XG&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(&#39;time&#39;, &#39;Z&#39;, &#39;YG&#39;, &#39;XC&#39;)
</pre></div></div>
</div>
<p>Now comes the xgcm magic: we take the diff along both axes and divide by the cell area element to find the divergence of the horizontal flow. Note how this new variable is at the cell center point.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">div_uv</span> <span class="o">=</span> <span class="p">(</span><span class="n">grid</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">u_transport</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">grid</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">v_transport</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">))</span> <span class="o">/</span> <span class="n">ds</span><span class="o">.</span><span class="n">rA</span>
<span class="n">div_uv</span><span class="o">.</span><span class="n">dims</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(&#39;time&#39;, &#39;Z&#39;, &#39;YC&#39;, &#39;XC&#39;)
</pre></div></div>
</div>
<p>We plot this near the surface and observe the expected patern of divergence at the equator and in the subpolar regions, and convergence in the subtropical gyres.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">div_uv</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.collections.QuadMesh at 0x7f07459c1a60&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/repos_xgcm_xgcm-examples_02_mitgcm_13_1.png" src="../../../_images/repos_xgcm_xgcm-examples_02_mitgcm_13_1.png" />
</div>
</div>
</div>
<div class="section" id="Vorticity">
<h2>Vorticity<a class="headerlink" href="#Vorticity" title="Permalink to this headline">¶</a></h2>
<p>The vertical component of the vorticity is a fundamental quantity of interest in ocean circulation theory. It is defined as</p>
<div class="math notranslate nohighlight">
\[\zeta = - \frac{\partial u}{\partial y} + \frac{\partial v}{\partial x} \ .\]</div>
<p>On the c-grid, a finite-volume representation is given by</p>
<div class="math notranslate nohighlight">
\[\zeta =  (- \delta_j \Delta x_c u + \delta_i \Delta y_c v ) / A_\zeta \ .\]</div>
<p>In xgcm, we calculate this quanity as</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">zeta</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">grid</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">UVEL</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">dxC</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">grid</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">VVEL</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">dyC</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">))</span><span class="o">/</span><span class="n">ds</span><span class="o">.</span><span class="n">rAz</span>
<span class="n">zeta</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt, dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray (time: 1, Z: 15, YG: 40, XG: 90)&gt;
array([[[[-1.48332937e-08, -1.02609041e-08, -6.38644559e-09, ...,
          -2.02205257e-08, -2.36162538e-08, -2.21622898e-08],
         [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
         [ 3.81209766e-08,  3.97684836e-08,  4.13142871e-08, ...,
           1.29681979e-07,  3.34656640e-08,  3.61909045e-08],
         ...,
         [ 4.37701573e-08,  9.16013079e-08, -2.54561030e-08, ...,
           1.26603963e-08, -6.90892721e-09,  5.01466104e-08],
         [ 6.99142433e-08,  3.79757061e-08,  6.82349199e-09, ...,
           6.06992998e-08,  6.45270646e-08,  4.38413430e-08],
         [ 5.32967235e-08,  3.35858523e-08,  7.44277244e-08, ...,
          -4.63408085e-08,  1.05465695e-07, -3.87492776e-08]],

        [[-5.91518168e-09, -5.92747895e-09, -4.68231898e-09, ...,
           4.79974616e-10, -5.15723109e-09, -8.35224956e-09],
         [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
         [ 2.93285876e-08,  2.88299127e-08,  2.76142540e-08, ...,
           4.49574458e-08,  2.74702163e-08,  2.87617432e-08],
...
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
         [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
         [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00]],

        [[ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
         [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
         [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
         ...,
         [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
         [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
         [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00]]]],
      dtype=float32)
Coordinates:
  * time     (time) timedelta64[ns] 11:00:00
  * Z        (Z) float32 -25.0 -85.0 -170.0 -290.0 ... -3575.0 -4190.0 -4855.0
  * YG       (YG) float32 -80.0 -76.0 -72.0 -68.0 -64.0 ... 64.0 68.0 72.0 76.0
  * XG       (XG) float32 0.0 4.0 8.0 12.0 16.0 ... 344.0 348.0 352.0 356.0
    rAz      (YG, XG) float32 34334886000.0 34334886000.0 ... 47834423000.0</pre><div class='xr-wrap' hidden><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'></div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 1</li><li><span class='xr-has-index'>Z</span>: 15</li><li><span class='xr-has-index'>YG</span>: 40</li><li><span class='xr-has-index'>XG</span>: 90</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-fc48913e-0333-4b2a-9167-f2d3a18ed5a3' class='xr-array-in' type='checkbox' checked><label for='section-fc48913e-0333-4b2a-9167-f2d3a18ed5a3' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>-1.4833294e-08 -1.0260904e-08 -6.3864456e-09 ... 0.0 0.0 0.0</span></div><div class='xr-array-data'><pre>array([[[[-1.48332937e-08, -1.02609041e-08, -6.38644559e-09, ...,
          -2.02205257e-08, -2.36162538e-08, -2.21622898e-08],
         [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
         [ 3.81209766e-08,  3.97684836e-08,  4.13142871e-08, ...,
           1.29681979e-07,  3.34656640e-08,  3.61909045e-08],
         ...,
         [ 4.37701573e-08,  9.16013079e-08, -2.54561030e-08, ...,
           1.26603963e-08, -6.90892721e-09,  5.01466104e-08],
         [ 6.99142433e-08,  3.79757061e-08,  6.82349199e-09, ...,
           6.06992998e-08,  6.45270646e-08,  4.38413430e-08],
         [ 5.32967235e-08,  3.35858523e-08,  7.44277244e-08, ...,
          -4.63408085e-08,  1.05465695e-07, -3.87492776e-08]],

        [[-5.91518168e-09, -5.92747895e-09, -4.68231898e-09, ...,
           4.79974616e-10, -5.15723109e-09, -8.35224956e-09],
         [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
         [ 2.93285876e-08,  2.88299127e-08,  2.76142540e-08, ...,
           4.49574458e-08,  2.74702163e-08,  2.87617432e-08],
...
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
         [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
         [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00]],

        [[ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
         [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
         [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
         ...,
         [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
         [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
         [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
           0.00000000e+00,  0.00000000e+00,  0.00000000e+00]]]],
      dtype=float32)</pre></div></div></li><li class='xr-section-item'><input id='section-f9b4cfb5-c5fd-4b8c-bade-c72e4c3507c1' class='xr-section-summary-in' type='checkbox'  checked><label for='section-f9b4cfb5-c5fd-4b8c-bade-c72e4c3507c1' class='xr-section-summary' >Coordinates: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>timedelta64[ns]</div><div class='xr-var-preview xr-preview'>11:00:00</div><input id='attrs-a1078647-dea8-4148-a599-3b6e30c2030e' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-a1078647-dea8-4148-a599-3b6e30c2030e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ec5da428-77dd-4b83-8ab7-3d40634e335a' class='xr-var-data-in' type='checkbox'><label for='data-ec5da428-77dd-4b83-8ab7-3d40634e335a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>time</dd><dt><span>long_name :</span></dt><dd>Time</dd><dt><span>axis :</span></dt><dd>T</dd><dt><span>calendar :</span></dt><dd>gregorian</dd></dl></div><div class='xr-var-data'><pre>array([39600000000000], dtype=&#x27;timedelta64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>Z</span></div><div class='xr-var-dims'>(Z)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-25.0 -85.0 ... -4190.0 -4855.0</div><input id='attrs-b7867d36-7ab3-40f8-9c7c-78f0b68ddc46' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b7867d36-7ab3-40f8-9c7c-78f0b68ddc46' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8b9db28a-6211-4b54-906f-a94039c7803c' class='xr-var-data-in' type='checkbox'><label for='data-8b9db28a-6211-4b54-906f-a94039c7803c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>depth</dd><dt><span>long_name :</span></dt><dd>vertical coordinate of cell center</dd><dt><span>units :</span></dt><dd>m</dd><dt><span>positive :</span></dt><dd>down</dd><dt><span>axis :</span></dt><dd>Z</dd></dl></div><div class='xr-var-data'><pre>array([  -25.,   -85.,  -170.,  -290.,  -455.,  -670.,  -935., -1250., -1615.,
       -2030., -2495., -3010., -3575., -4190., -4855.], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>YG</span></div><div class='xr-var-dims'>(YG)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-80.0 -76.0 -72.0 ... 72.0 76.0</div><input id='attrs-363a1117-1e80-4b9c-a9a6-70b478ae25d0' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-363a1117-1e80-4b9c-a9a6-70b478ae25d0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d0df45c4-3b8c-487d-836c-7ada4d3270d8' class='xr-var-data-in' type='checkbox'><label for='data-d0df45c4-3b8c-487d-836c-7ada4d3270d8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>latitude_at_f_location</dd><dt><span>long_name :</span></dt><dd>latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>axis :</span></dt><dd>Y</dd><dt><span>c_grid_axis_shift :</span></dt><dd>-0.5</dd></dl></div><div class='xr-var-data'><pre>array([-80., -76., -72., -68., -64., -60., -56., -52., -48., -44., -40., -36.,
       -32., -28., -24., -20., -16., -12.,  -8.,  -4.,   0.,   4.,   8.,  12.,
        16.,  20.,  24.,  28.,  32.,  36.,  40.,  44.,  48.,  52.,  56.,  60.,
        64.,  68.,  72.,  76.], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>XG</span></div><div class='xr-var-dims'>(XG)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.0 4.0 8.0 ... 348.0 352.0 356.0</div><input id='attrs-3819c52c-9a48-43be-b436-a7e3eaa3b66c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-3819c52c-9a48-43be-b436-a7e3eaa3b66c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-18fd21a1-a976-49fc-8d35-b2bf8ea54fe6' class='xr-var-data-in' type='checkbox'><label for='data-18fd21a1-a976-49fc-8d35-b2bf8ea54fe6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>longitude_at_f_location</dd><dt><span>long_name :</span></dt><dd>longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>coordinate :</span></dt><dd>YG XG</dd><dt><span>axis :</span></dt><dd>X</dd><dt><span>c_grid_axis_shift :</span></dt><dd>-0.5</dd></dl></div><div class='xr-var-data'><pre>array([  0.,   4.,   8.,  12.,  16.,  20.,  24.,  28.,  32.,  36.,  40.,  44.,
        48.,  52.,  56.,  60.,  64.,  68.,  72.,  76.,  80.,  84.,  88.,  92.,
        96., 100., 104., 108., 112., 116., 120., 124., 128., 132., 136., 140.,
       144., 148., 152., 156., 160., 164., 168., 172., 176., 180., 184., 188.,
       192., 196., 200., 204., 208., 212., 216., 220., 224., 228., 232., 236.,
       240., 244., 248., 252., 256., 260., 264., 268., 272., 276., 280., 284.,
       288., 292., 296., 300., 304., 308., 312., 316., 320., 324., 328., 332.,
       336., 340., 344., 348., 352., 356.], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>rAz</span></div><div class='xr-var-dims'>(YG, XG)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>34334886000.0 ... 47834423000.0</div><input id='attrs-21660826-ab43-4d48-9417-af408fbb3266' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-21660826-ab43-4d48-9417-af408fbb3266' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-95e1c75f-af72-4787-b71b-18aafb235294' class='xr-var-data-in' type='checkbox'><label for='data-95e1c75f-af72-4787-b71b-18aafb235294' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>cell_area_at_f_location</dd><dt><span>long_name :</span></dt><dd>cell area</dd><dt><span>units :</span></dt><dd>m</dd><dt><span>coordinate :</span></dt><dd>YG XG</dd></dl></div><div class='xr-var-data'><pre>array([[3.433489e+10, 3.433489e+10, 3.433489e+10, ..., 3.433489e+10,
        3.433489e+10, 3.433489e+10],
       [4.783442e+10, 4.783442e+10, 4.783442e+10, ..., 4.783442e+10,
        4.783442e+10, 4.783442e+10],
       [6.110092e+10, 6.110092e+10, 6.110092e+10, ..., 6.110092e+10,
        6.110092e+10, 6.110092e+10],
       ...,
       [7.406974e+10, 7.406974e+10, 7.406974e+10, ..., 7.406974e+10,
        7.406974e+10, 7.406974e+10],
       [6.110092e+10, 6.110092e+10, 6.110092e+10, ..., 6.110092e+10,
        6.110092e+10, 6.110092e+10],
       [4.783442e+10, 4.783442e+10, 4.783442e+10, ..., 4.783442e+10,
        4.783442e+10, 4.783442e+10]], dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-ab42568b-a2c8-4795-a7d3-85b5785b0809' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-ab42568b-a2c8-4795-a7d3-85b5785b0809' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div>
</div>
<p>…which we can see is located at the <code class="docutils literal notranslate"><span class="pre">YG,</span> <span class="pre">XG</span></code> horizontal position (also commonly called the vorticity point).</p>
<p>We plot the vertical integral of this quantity, i.e. the barotropic vorticity:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">zeta_bt</span> <span class="o">=</span> <span class="p">(</span><span class="n">zeta</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">drF</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;Z&#39;</span><span class="p">)</span>
<span class="n">zeta_bt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">vmax</span><span class="o">=</span><span class="mf">2e-4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.collections.QuadMesh at 0x7f073bfa9820&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/repos_xgcm_xgcm-examples_02_mitgcm_17_1.png" src="../../../_images/repos_xgcm_xgcm-examples_02_mitgcm_17_1.png" />
</div>
</div>
<p>A different way to calculate the barotropic vorticity is to take the curl of the vertically integrated velocity. This formulation also allows us to incorporate the <span class="math notranslate nohighlight">\(h\)</span> factors representing partial cell thickness.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">u_bt</span> <span class="o">=</span> <span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">UVEL</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">hFacW</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">drF</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;Z&#39;</span><span class="p">)</span>
<span class="n">v_bt</span> <span class="o">=</span> <span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">VVEL</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">hFacS</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">drF</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;Z&#39;</span><span class="p">)</span>
<span class="n">zeta_bt_alt</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">grid</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">u_bt</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">dxC</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">grid</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">v_bt</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">dyC</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">))</span><span class="o">/</span><span class="n">ds</span><span class="o">.</span><span class="n">rAz</span>
<span class="n">zeta_bt_alt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">vmax</span><span class="o">=</span><span class="mf">2e-4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.collections.QuadMesh at 0x7f073bf63400&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/repos_xgcm_xgcm-examples_02_mitgcm_19_1.png" src="../../../_images/repos_xgcm_xgcm-examples_02_mitgcm_19_1.png" />
</div>
</div>
</div>
<div class="section" id="Strain">
<h2>Strain<a class="headerlink" href="#Strain" title="Permalink to this headline">¶</a></h2>
<p>Another interesting quantity is the horizontal strain, defined as</p>
<div class="math notranslate nohighlight">
\[s = \frac{\partial u}{\partial x} - \frac{\partial v}{\partial y} \ .\]</div>
<p>On the c-grid, a finite-volume representation is given by</p>
<div class="math notranslate nohighlight">
\[s =  (\delta_i \Delta y_g u - \delta_j \Delta x_g v ) / A_c \ .\]</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">strain</span> <span class="o">=</span> <span class="p">(</span><span class="n">grid</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">UVEL</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">dyG</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="n">grid</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">VVEL</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">dxG</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">))</span> <span class="o">/</span> <span class="n">ds</span><span class="o">.</span><span class="n">rA</span>
<span class="n">strain</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.collections.QuadMesh at 0x7f073be89ee0&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/repos_xgcm_xgcm-examples_02_mitgcm_21_1.png" src="../../../_images/repos_xgcm_xgcm-examples_02_mitgcm_21_1.png" />
</div>
</div>
<div class="section" id="Barotropic-Transport-Streamfunction">
<h3>Barotropic Transport Streamfunction<a class="headerlink" href="#Barotropic-Transport-Streamfunction" title="Permalink to this headline">¶</a></h3>
<p>We can use the barotropic velocity to calcuate the barotropic transport streamfunction, defined via</p>
<div class="math notranslate nohighlight">
\[u_{bt} = - \frac{\partial \Psi}{\partial y} \ , \ \ v_{bt} = \frac{\partial \Psi}{\partial x} \ .\]</div>
<p>We calculate this by integrating <span class="math notranslate nohighlight">\(u_{bt}\)</span> along the Y axis using the grid object’s <code class="docutils literal notranslate"><span class="pre">cumsum</span></code> method:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">psi</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="o">-</span><span class="n">u_bt</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">dyG</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">boundary</span><span class="o">=</span><span class="s1">&#39;fill&#39;</span><span class="p">)</span>
<span class="n">psi</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt, dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray (time: 1, YG: 40, XG: 90)&gt;
array([[[ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
          0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
        [-0.00000000e+00, -0.00000000e+00, -0.00000000e+00, ...,
         -0.00000000e+00, -0.00000000e+00, -0.00000000e+00],
        [-0.00000000e+00, -0.00000000e+00, -0.00000000e+00, ...,
         -0.00000000e+00, -0.00000000e+00, -0.00000000e+00],
        ...,
        [-1.06634920e+08, -1.06666912e+08, -1.05922952e+08, ...,
         -1.07724152e+08, -1.07341128e+08, -1.06941400e+08],
        [-1.07050680e+08, -1.06612056e+08, -1.06356232e+08, ...,
         -1.07048232e+08, -1.07335792e+08, -1.07102304e+08],
        [-1.05933672e+08, -1.05922800e+08, -1.05856504e+08, ...,
         -1.05376272e+08, -1.05493376e+08, -1.05632128e+08]]],
      dtype=float32)
Coordinates:
  * time     (time) timedelta64[ns] 11:00:00
  * YG       (YG) float32 -80.0 -76.0 -72.0 -68.0 -64.0 ... 64.0 68.0 72.0 76.0
  * XG       (XG) float32 0.0 4.0 8.0 12.0 16.0 ... 344.0 348.0 352.0 356.0</pre><div class='xr-wrap' hidden><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'></div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 1</li><li><span class='xr-has-index'>YG</span>: 40</li><li><span class='xr-has-index'>XG</span>: 90</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-7ccae8c7-5752-4ed0-8120-936f6912bb0d' class='xr-array-in' type='checkbox' checked><label for='section-7ccae8c7-5752-4ed0-8120-936f6912bb0d' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>0.0 0.0 0.0 0.0 ... -105376270.0 -105493380.0 -105632130.0</span></div><div class='xr-array-data'><pre>array([[[ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00, ...,
          0.00000000e+00,  0.00000000e+00,  0.00000000e+00],
        [-0.00000000e+00, -0.00000000e+00, -0.00000000e+00, ...,
         -0.00000000e+00, -0.00000000e+00, -0.00000000e+00],
        [-0.00000000e+00, -0.00000000e+00, -0.00000000e+00, ...,
         -0.00000000e+00, -0.00000000e+00, -0.00000000e+00],
        ...,
        [-1.06634920e+08, -1.06666912e+08, -1.05922952e+08, ...,
         -1.07724152e+08, -1.07341128e+08, -1.06941400e+08],
        [-1.07050680e+08, -1.06612056e+08, -1.06356232e+08, ...,
         -1.07048232e+08, -1.07335792e+08, -1.07102304e+08],
        [-1.05933672e+08, -1.05922800e+08, -1.05856504e+08, ...,
         -1.05376272e+08, -1.05493376e+08, -1.05632128e+08]]],
      dtype=float32)</pre></div></div></li><li class='xr-section-item'><input id='section-7d11590b-ef18-436e-a696-1319e5a7cfa5' class='xr-section-summary-in' type='checkbox'  checked><label for='section-7d11590b-ef18-436e-a696-1319e5a7cfa5' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>timedelta64[ns]</div><div class='xr-var-preview xr-preview'>11:00:00</div><input id='attrs-46a478bd-1ff2-4321-aae6-9198ff5a67cd' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-46a478bd-1ff2-4321-aae6-9198ff5a67cd' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-52280b3a-1093-4b4f-ba65-f94fa4c91a31' class='xr-var-data-in' type='checkbox'><label for='data-52280b3a-1093-4b4f-ba65-f94fa4c91a31' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>time</dd><dt><span>long_name :</span></dt><dd>Time</dd><dt><span>axis :</span></dt><dd>T</dd><dt><span>calendar :</span></dt><dd>gregorian</dd></dl></div><div class='xr-var-data'><pre>array([39600000000000], dtype=&#x27;timedelta64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>YG</span></div><div class='xr-var-dims'>(YG)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-80.0 -76.0 -72.0 ... 72.0 76.0</div><input id='attrs-5a34c063-0ea6-4122-9ee1-e0a1a236a63a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-5a34c063-0ea6-4122-9ee1-e0a1a236a63a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e61ed0a6-c7b4-4084-a770-aa4bfb43084e' class='xr-var-data-in' type='checkbox'><label for='data-e61ed0a6-c7b4-4084-a770-aa4bfb43084e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>latitude_at_f_location</dd><dt><span>long_name :</span></dt><dd>latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>axis :</span></dt><dd>Y</dd><dt><span>c_grid_axis_shift :</span></dt><dd>-0.5</dd></dl></div><div class='xr-var-data'><pre>array([-80., -76., -72., -68., -64., -60., -56., -52., -48., -44., -40., -36.,
       -32., -28., -24., -20., -16., -12.,  -8.,  -4.,   0.,   4.,   8.,  12.,
        16.,  20.,  24.,  28.,  32.,  36.,  40.,  44.,  48.,  52.,  56.,  60.,
        64.,  68.,  72.,  76.], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>XG</span></div><div class='xr-var-dims'>(XG)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.0 4.0 8.0 ... 348.0 352.0 356.0</div><input id='attrs-357cbb27-6e57-4886-bc74-c3b34ff7e949' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-357cbb27-6e57-4886-bc74-c3b34ff7e949' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-51e79440-de73-4ee9-baeb-bb718b662258' class='xr-var-data-in' type='checkbox'><label for='data-51e79440-de73-4ee9-baeb-bb718b662258' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>longitude_at_f_location</dd><dt><span>long_name :</span></dt><dd>longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>coordinate :</span></dt><dd>YG XG</dd><dt><span>axis :</span></dt><dd>X</dd><dt><span>c_grid_axis_shift :</span></dt><dd>-0.5</dd></dl></div><div class='xr-var-data'><pre>array([  0.,   4.,   8.,  12.,  16.,  20.,  24.,  28.,  32.,  36.,  40.,  44.,
        48.,  52.,  56.,  60.,  64.,  68.,  72.,  76.,  80.,  84.,  88.,  92.,
        96., 100., 104., 108., 112., 116., 120., 124., 128., 132., 136., 140.,
       144., 148., 152., 156., 160., 164., 168., 172., 176., 180., 184., 188.,
       192., 196., 200., 204., 208., 212., 216., 220., 224., 228., 232., 236.,
       240., 244., 248., 252., 256., 260., 264., 268., 272., 276., 280., 284.,
       288., 292., 296., 300., 304., 308., 312., 316., 320., 324., 328., 332.,
       336., 340., 344., 348., 352., 356.], dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-1c3a7f74-a87c-4f21-b4e0-8611e631eec6' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-1c3a7f74-a87c-4f21-b4e0-8611e631eec6' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div>
</div>
<p>We see that xgcm automatically shifted the Y-axis position from center (YC) to left (YG) during the cumsum operation.</p>
<p>We convert to sverdrups and plot with a contour plot.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="p">(</span><span class="n">psi</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mf">1e6</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">levels</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">160</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.contour.QuadContourSet at 0x7f073bdb5ca0&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/repos_xgcm_xgcm-examples_02_mitgcm_25_1.png" src="../../../_images/repos_xgcm_xgcm-examples_02_mitgcm_25_1.png" />
</div>
</div>
<p>This doesn’t look nice because it lacks a suitable land mask. The dataset has no mask provided for the vorticity point. But we can build one with xgcm!</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">maskZ</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">interp</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">hFacS</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="n">psi</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mf">1e6</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">maskZ</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">levels</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">160</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.contour.QuadContourSet at 0x7f073bedeee0&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/repos_xgcm_xgcm-examples_02_mitgcm_27_1.png" src="../../../_images/repos_xgcm_xgcm-examples_02_mitgcm_27_1.png" />
</div>
</div>
</div>
<div class="section" id="Kinetic-Energy">
<h3>Kinetic Energy<a class="headerlink" href="#Kinetic-Energy" title="Permalink to this headline">¶</a></h3>
<p>Finally, we plot the kinetic energy <span class="math notranslate nohighlight">\(1/2 (u^2 + v^2)\)</span> by interpoloting both quantities the cell center point.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ke</span> <span class="o">=</span> <span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="n">grid</span><span class="o">.</span><span class="n">interp</span><span class="p">((</span><span class="n">ds</span><span class="o">.</span><span class="n">UVEL</span><span class="o">*</span><span class="n">ds</span><span class="o">.</span><span class="n">hFacW</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">grid</span><span class="o">.</span><span class="n">interp</span><span class="p">((</span><span class="n">ds</span><span class="o">.</span><span class="n">VVEL</span><span class="o">*</span><span class="n">ds</span><span class="o">.</span><span class="n">hFacS</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">))</span>
<span class="n">ke</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">maskC</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.collections.QuadMesh at 0x7f07455e9760&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/repos_xgcm_xgcm-examples_02_mitgcm_29_1.png" src="../../../_images/repos_xgcm_xgcm-examples_02_mitgcm_29_1.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2020, Pangeo Developers.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.4.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>